[gd_scene load_steps=40 format=3 uid="uid://cu6c72fyiba2s"]

[ext_resource type="Texture2D" uid="uid://is5yutlhkb27" path="res://assets/ui/map/MapBackground.png" id="1_cm2e8"]
[ext_resource type="Texture2D" uid="uid://bbrjt84hpvqry" path="res://assets/ui/map/Map.png" id="1_ij4mi"]
[ext_resource type="Script" uid="uid://bjg7ug8bx7lau" path="res://scenes/game_scene/world/map_ui.gd" id="1_wknfc"]
[ext_resource type="Texture2D" uid="uid://di2g4attlj6ti" path="res://assets/ui/worldui/buttons/phone.png" id="2_4fumt"]
[ext_resource type="Script" uid="uid://b2u4mh42rrys" path="res://scenes/game_scene/world/map_button.gd" id="2_ydqjq"]
[ext_resource type="Texture2D" uid="uid://brt8dt6oujvqg" path="res://assets/ui/worldui/buttons/phone_pressed.png" id="3_wsqji"]
[ext_resource type="Texture2D" uid="uid://cajt75jnxpw55" path="res://assets/ui/worldui/panels/stats_panel.png" id="5_4nqjw"]
[ext_resource type="Texture2D" uid="uid://dj1utroctraii" path="res://assets/ui/worldui/panels/gold_panel.png" id="5_ir6cy"]
[ext_resource type="Texture2D" uid="uid://bkjw2utplnsst" path="res://assets/ui/worldui/panels/enemy_counter_panel.png" id="5_tf8dh"]
[ext_resource type="Texture2D" uid="uid://h56m310r62on" path="res://assets/boat/boat.png" id="6_eddq1"]
[ext_resource type="Texture2D" uid="uid://bsuse3wvbw12r" path="res://assets/ui/worldui/panels/wave_panel.png" id="6_sj3nl"]
[ext_resource type="Texture2D" uid="uid://cjm37ke6h0xqq" path="res://assets/ui/worldui/panels/health_bar/health_bar_empty.png" id="7_us7g3"]
[ext_resource type="Texture2D" uid="uid://bjjsk5ie5xwm1" path="res://assets/ui/map/map_closed.png" id="8_8qdxx"]
[ext_resource type="Texture2D" uid="uid://cu22qwigbhsgy" path="res://assets/ui/worldui/panels/health_bar/health_bar.png" id="8_awwsk"]
[ext_resource type="Texture2D" uid="uid://cx80vmti284f1" path="res://assets/ui/worldui/FireButtonReady.png" id="9_4nqjw"]
[ext_resource type="Script" uid="uid://djagmqnqey7ux" path="res://scenes/game_scene/world/health_bar.gd" id="9_awwsk"]
[ext_resource type="Script" uid="uid://c2clrolu1yhh5" path="res://scenes/game_scene/world/inventory_ui.gd" id="9_lkfkc"]
[ext_resource type="Texture2D" uid="uid://ktn0msyny4g7" path="res://assets/ui/inventory/inventorybackground.png" id="9_vomcc"]
[ext_resource type="Texture2D" uid="uid://dau46jgypfq1d" path="res://assets/ui/map/map_open.png" id="9_y81kt"]
[ext_resource type="Script" uid="uid://c4dgottxqtxl3" path="res://scenes/game_scene/world/drinks_emblem.gd" id="10_1a7hd"]
[ext_resource type="Texture2D" uid="uid://cedkmknnh064l" path="res://assets/ui/worldui/FireButtonDisabled.png" id="10_ir6cy"]
[ext_resource type="FontFile" uid="uid://duln27t01nc1q" path="res://assets/fonts/Minecraftia-Regular.ttf" id="10_l840g"]
[ext_resource type="Texture2D" uid="uid://khak7r7rn7eq" path="res://assets/ui/worldui/drinks/sirens.png" id="10_t2smw"]
[ext_resource type="Texture2D" uid="uid://b8uam2q6mt2p6" path="res://assets/ui/worldui/drinks/grog.png" id="11_1a7hd"]
[ext_resource type="LabelSettings" uid="uid://c7hb6xny5bbqf" path="res://assets/ui/inventory/inventory_label_settings.tres" id="11_cvm3m"]
[ext_resource type="Texture2D" uid="uid://ddkwhejoo8w10" path="res://assets/ui/map/BlankModal.png" id="12_l840g"]
[ext_resource type="Texture2D" uid="uid://cje3awxmbs7ik" path="res://assets/ui/worldui/drinks/cap.png" id="12_tdvoa"]
[ext_resource type="Script" uid="uid://rk3c1u8lcxcc" path="res://scenes/game_scene/world/inventory_button.gd" id="13_cvm3m"]
[ext_resource type="Texture2D" uid="uid://b47s1o36gnrvt" path="res://assets/ui/worldui/buttons/left.png" id="14_8exul"]
[ext_resource type="Texture2D" uid="uid://cfwfdjlmfgcq2" path="res://assets/ui/worldui/buttons/left_pressed.png" id="15_twa4k"]
[ext_resource type="Texture2D" uid="uid://yqw5d7bq3x4t" path="res://assets/ui/worldui/buttons/right.png" id="16_4fumt"]
[ext_resource type="Texture2D" uid="uid://cbdo2s0b7uyay" path="res://assets/ui/worldui/buttons/right_pressed.png" id="17_wsqji"]
[ext_resource type="Texture2D" uid="uid://cmgspcoc62tsc" path="res://assets/ui/worldui/buttons/up.png" id="18_us7g3"]
[ext_resource type="Texture2D" uid="uid://6kxaooklpvro" path="res://assets/ui/worldui/buttons/up_pressed.png" id="19_awwsk"]
[ext_resource type="Texture2D" uid="uid://cvk5i7f1yh5ei" path="res://assets/ui/worldui/buttons/down.png" id="20_h6r42"]
[ext_resource type="Texture2D" uid="uid://bo7w5jiojo4ht" path="res://assets/ui/worldui/buttons/down_pressed.png" id="21_j5asc"]

[sub_resource type="LabelSettings" id="LabelSettings_lkfkc"]
font = ExtResource("10_l840g")
font_size = 50
font_color = Color(0.16862746, 0.11372549, 0.06666667, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_cvm3m"]
bg_color = Color(0.6, 0.6, 0.6, 0)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0.32156864, 0.14901961, 0.078431375, 1)

[sub_resource type="LabelSettings" id="LabelSettings_vomcc"]
line_spacing = 0.0
font = ExtResource("10_l840g")
font_size = 15
font_color = Color(0.32395226, 0.14817587, 0.07933294, 1)

[node name="WorldUI" type="CanvasLayer"]

[node name="MapUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_top = 1.0
offset_right = 40.0
offset_bottom = 41.0
script = ExtResource("1_wknfc")
world_size = Vector2(75000, 11100)
world_top_left = Vector2(-20000, -5000)

[node name="SwitchControlLayout" type="TextureButton" parent="MapUI"]
layout_mode = 0
offset_left = 944.0
offset_top = 632.0
offset_right = 984.0
offset_bottom = 672.0
scale = Vector2(4, 4)
texture_normal = ExtResource("2_4fumt")
texture_pressed = ExtResource("3_wsqji")

[node name="MapBorder" type="TextureRect" parent="MapUI"]
visible = false
layout_mode = 0
offset_left = 281.0
offset_top = 84.0
offset_right = 1817.0
offset_bottom = 1134.909
scale = Vector2(0.45, 0.45)
texture = ExtResource("1_cm2e8")

[node name="Map" type="TextureRect" parent="MapUI"]
visible = false
layout_mode = 0
offset_left = 323.57684
offset_top = 126.99999
offset_right = 2052.1482
offset_bottom = 1192.7142
scale = Vector2(0.35, 0.35)
texture = ExtResource("1_ij4mi")

[node name="ShipIcon" type="TextureRect" parent="MapUI"]
visible = false
layout_mode = 0
offset_top = 32.0
offset_right = 64.0
offset_bottom = 96.0
rotation = -1.5707964
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_eddq1")

[node name="HealthBar" type="TextureProgressBar" parent="MapUI"]
visible = false
layout_mode = 0
offset_left = 527.0
offset_top = 624.0
offset_right = 585.0
offset_bottom = 664.0
scale = Vector2(4, 4)
value = 100.0
texture_under = ExtResource("7_us7g3")
texture_progress = ExtResource("8_awwsk")
texture_progress_offset = Vector2(3, 5)
script = ExtResource("9_awwsk")

[node name="Drinks" type="Control" parent="MapUI"]
visible = false
anchors_preset = 0
offset_left = 27.0
offset_top = 85.0
offset_right = 67.0
offset_bottom = 125.0
scale = Vector2(1.5, 1.5)
script = ExtResource("10_1a7hd")

[node name="VBoxContainer" type="VBoxContainer" parent="MapUI/Drinks"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Siren" type="TextureRect" parent="MapUI/Drinks/VBoxContainer"]
visible = false
layout_mode = 2
texture = ExtResource("10_t2smw")

[node name="Grog" type="TextureRect" parent="MapUI/Drinks/VBoxContainer"]
visible = false
layout_mode = 2
texture = ExtResource("11_1a7hd")

[node name="Captain" type="TextureRect" parent="MapUI/Drinks/VBoxContainer"]
visible = false
layout_mode = 2
texture = ExtResource("12_tdvoa")

[node name="Enemies" type="Control" parent="MapUI"]
visible = false
anchors_preset = 0
offset_left = 1088.0
offset_top = 11.0
offset_right = 1128.0
offset_bottom = 51.0

[node name="EnemiesPanel" type="TextureRect" parent="MapUI/Enemies"]
layout_mode = 0
offset_right = 44.0
offset_bottom = 11.0
scale = Vector2(3, 3)
texture = ExtResource("5_tf8dh")

[node name="EnemiesLeft" type="Label" parent="MapUI/Enemies"]
layout_mode = 1
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -14.0
offset_right = 129.0
offset_bottom = 12.228241
grow_horizontal = 0
grow_vertical = 2
text = "Enemies: 42"

[node name="Wave" type="Control" parent="MapUI"]
visible = false
anchors_preset = 0
offset_left = 12.0
offset_top = 11.0
offset_right = 52.0
offset_bottom = 51.0

[node name="WavePanel" type="TextureRect" parent="MapUI/Wave"]
layout_mode = 0
offset_top = 1.0
offset_right = 40.0
offset_bottom = 12.0
scale = Vector2(3, 3)
texture = ExtResource("6_sj3nl")

[node name="WaveCount" type="Label" parent="MapUI/Wave"]
layout_mode = 0
offset_left = 23.0
offset_top = 8.0
offset_right = 109.0
offset_bottom = 30.0
text = "Wave 1"

[node name="Gold" type="Control" parent="MapUI"]
visible = false
anchors_preset = 0
offset_left = 12.0
offset_top = 48.0
offset_right = 52.0
offset_bottom = 88.0

[node name="GoldPanel" type="TextureRect" parent="MapUI/Gold"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 11.0
scale = Vector2(3, 3)
texture = ExtResource("5_ir6cy")

[node name="Gold" type="Label" parent="MapUI/Gold"]
layout_mode = 0
offset_left = 45.0
offset_top = 7.0
offset_right = 109.0
offset_bottom = 29.0
text = "2"

[node name="Stats" type="Control" parent="MapUI"]
anchors_preset = 0
offset_left = 1088.0
offset_top = 597.0
offset_right = 1128.0
offset_bottom = 637.0

[node name="StatsPanel" type="TextureRect" parent="MapUI/Stats"]
layout_mode = 0
offset_right = 34.0
offset_bottom = 21.0
scale = Vector2(4, 4)
texture = ExtResource("5_4nqjw")

[node name="GunsLabel" type="Label" parent="MapUI/Stats"]
layout_mode = 0
offset_left = 11.0
offset_top = 20.0
offset_right = 63.0
offset_bottom = 42.0
text = "Guns:"

[node name="KnotsLabel" type="Label" parent="MapUI/Stats"]
layout_mode = 0
offset_left = 11.0
offset_top = 49.0
offset_right = 63.0
offset_bottom = 71.0
text = "Knots:"

[node name="Guns" type="Label" parent="MapUI/Stats"]
layout_mode = 0
offset_left = 75.0
offset_top = 20.0
offset_right = 127.0
offset_bottom = 42.0
text = "1"
horizontal_alignment = 2

[node name="Knots" type="Label" parent="MapUI/Stats"]
layout_mode = 0
offset_left = 75.0
offset_top = 49.0
offset_right = 127.0
offset_bottom = 71.0
text = "2"
horizontal_alignment = 2

[node name="MapButton" type="TextureButton" parent="MapUI"]
visible = false
layout_mode = 0
offset_top = 591.0
offset_right = 64.0
offset_bottom = 655.0
scale = Vector2(2, 2)
texture_normal = ExtResource("8_8qdxx")
texture_hover = ExtResource("9_y81kt")
script = ExtResource("2_ydqjq")

[node name="Fire" type="Control" parent="MapUI"]
visible = false
anchors_preset = 0
offset_left = 928.0
offset_top = 440.0
offset_right = 968.0
offset_bottom = 480.0
scale = Vector2(2, 2)

[node name="HBoxContainer" type="HBoxContainer" parent="MapUI/Fire"]
layout_mode = 0
offset_top = -1.0
offset_right = 156.0
offset_bottom = 63.0
theme_override_constants/separation = 28

[node name="FireLeftButton" type="TextureButton" parent="MapUI/Fire/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("9_4nqjw")
texture_pressed = ExtResource("10_ir6cy")
texture_disabled = ExtResource("10_ir6cy")
flip_h = true

[node name="FireRightButton" type="TextureButton" parent="MapUI/Fire/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("9_4nqjw")
texture_pressed = ExtResource("10_ir6cy")
texture_disabled = ExtResource("10_ir6cy")

[node name="Dpad" type="Control" parent="MapUI"]
visible = false
anchors_preset = 0
offset_left = 6.0
offset_top = 422.0
offset_right = 46.0
offset_bottom = 462.0
scale = Vector2(4, 4)

[node name="HBoxContainer" type="HBoxContainer" parent="MapUI/Dpad"]
layout_mode = 0
offset_left = 9.0
offset_top = 18.0
offset_right = 53.0
offset_bottom = 32.0
theme_override_constants/separation = 16

[node name="Left" type="TextureButton" parent="MapUI/Dpad/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("14_8exul")
texture_pressed = ExtResource("15_twa4k")

[node name="Right" type="TextureButton" parent="MapUI/Dpad/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("16_4fumt")
texture_pressed = ExtResource("17_wsqji")

[node name="VBoxContainer" type="VBoxContainer" parent="MapUI/Dpad"]
layout_mode = 0
offset_left = 24.0
offset_top = 3.0
offset_right = 38.0
offset_bottom = 47.0
theme_override_constants/separation = 16

[node name="Up" type="TextureButton" parent="MapUI/Dpad/VBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("18_us7g3")
texture_pressed = ExtResource("19_awwsk")

[node name="Down" type="TextureButton" parent="MapUI/Dpad/VBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("20_h6r42")
texture_pressed = ExtResource("21_j5asc")

[node name="InventoryUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("9_lkfkc")

[node name="Inventory" type="TextureRect" parent="InventoryUI"]
visible = false
layout_mode = 0
offset_left = 347.0
offset_top = 53.0
offset_right = 871.0
offset_bottom = 598.4103
texture = ExtResource("9_vomcc")
expand_mode = 5

[node name="Heading" type="Label" parent="InventoryUI/Inventory"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.22531293
anchor_top = 0.07093185
anchor_right = 0.767733
anchor_bottom = 0.21696801
grow_horizontal = 2
grow_vertical = 2
text = "INVENTORY"
label_settings = SubResource("LabelSettings_lkfkc")

[node name="HBoxContainer" type="HBoxContainer" parent="InventoryUI/Inventory"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -197.0
offset_top = -147.70514
offset_right = 201.0
offset_bottom = 257.29486
grow_horizontal = 2
grow_vertical = 2

[node name="InventoryLabels" type="VBoxContainer" parent="InventoryUI/Inventory/HBoxContainer"]
layout_mode = 2

[node name="Gold" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryLabels"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
text = "Gold"
label_settings = ExtResource("11_cvm3m")

[node name="Fish" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryLabels"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
text = "Fish"
label_settings = ExtResource("11_cvm3m")

[node name="Rum" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryLabels"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
text = "Rum"
label_settings = ExtResource("11_cvm3m")

[node name="Ore" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryLabels"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
text = "Ore"
label_settings = ExtResource("11_cvm3m")

[node name="Clothes" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryLabels"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
text = "Clothes"
label_settings = ExtResource("11_cvm3m")

[node name="InventoryValues2" type="VBoxContainer" parent="InventoryUI/Inventory/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 10

[node name="PlayerGold" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryValues2"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
size_flags_horizontal = 8
text = "10"
label_settings = ExtResource("11_cvm3m")
horizontal_alignment = 1

[node name="PlayerFish" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryValues2"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
size_flags_horizontal = 8
text = "100 lbs"
label_settings = ExtResource("11_cvm3m")
horizontal_alignment = 2

[node name="PlayerRum" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryValues2"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
size_flags_horizontal = 8
text = "25 lbs"
label_settings = ExtResource("11_cvm3m")
horizontal_alignment = 2

[node name="PlayerOre" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryValues2"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
size_flags_horizontal = 8
text = "50 lbs"
label_settings = ExtResource("11_cvm3m")
horizontal_alignment = 2

[node name="PlayerClothes" type="Label" parent="InventoryUI/Inventory/HBoxContainer/InventoryValues2"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
size_flags_horizontal = 8
text = "15 lbs"
label_settings = ExtResource("11_cvm3m")
horizontal_alignment = 2

[node name="InventoryButton" type="TextureButton" parent="InventoryUI"]
visible = false
layout_mode = 0
offset_left = 130.0
offset_top = 638.0
offset_right = 174.0
offset_bottom = 682.0
texture_normal = ExtResource("9_vomcc")
texture_hover = ExtResource("12_l840g")
ignore_texture_size = true
stretch_mode = 0
script = ExtResource("13_cvm3m")

[node name="Label" type="Label" parent="InventoryUI/InventoryButton"]
layout_mode = 0
offset_left = 9.0
offset_top = 6.0
offset_right = 36.0
offset_bottom = 37.0
theme_override_styles/normal = SubResource("StyleBoxFlat_cvm3m")
text = "I"
label_settings = SubResource("LabelSettings_vomcc")
horizontal_alignment = 1
vertical_alignment = 1
autowrap_trim_flags = 0
justification_flags = 0

[node name="FadeRect" type="ColorRect" parent="."]
visible = false
offset_right = 1280.0
offset_bottom = 720.0
color = Color(0, 0, 0, 1)

[connection signal="pressed" from="MapUI/SwitchControlLayout" to="MapUI" method="_on_switch_control_layout_pressed"]
[connection signal="pressed" from="MapUI/MapButton" to="MapUI/MapButton" method="_on_pressed"]
[connection signal="pressed" from="MapUI/Fire/HBoxContainer/FireLeftButton" to="MapUI" method="_on_fire_left_button_pressed"]
[connection signal="pressed" from="MapUI/Fire/HBoxContainer/FireRightButton" to="MapUI" method="_on_fire_right_button_pressed"]
[connection signal="button_down" from="MapUI/Dpad/HBoxContainer/Left" to="MapUI" method="_on_left_button_down"]
[connection signal="button_up" from="MapUI/Dpad/HBoxContainer/Left" to="MapUI" method="_on_left_button_up"]
[connection signal="button_down" from="MapUI/Dpad/HBoxContainer/Right" to="MapUI" method="_on_right_button_down"]
[connection signal="button_up" from="MapUI/Dpad/HBoxContainer/Right" to="MapUI" method="_on_right_button_up"]
[connection signal="button_down" from="MapUI/Dpad/VBoxContainer/Up" to="MapUI" method="_on_up_button_down"]
[connection signal="button_up" from="MapUI/Dpad/VBoxContainer/Up" to="MapUI" method="_on_up_button_up"]
[connection signal="button_down" from="MapUI/Dpad/VBoxContainer/Down" to="MapUI" method="_on_down_button_down"]
[connection signal="button_up" from="MapUI/Dpad/VBoxContainer/Down" to="MapUI" method="_on_down_button_up"]
[connection signal="pressed" from="InventoryUI/InventoryButton" to="InventoryUI/InventoryButton" method="_on_pressed"]
